----------------------------------------
PBS: Begin PBS Prologue Thu Feb  7 15:10:43 CST 2019 1549573843
PBS: Job ID:		3401270.qsched03.quest.it.northwestern.edu
PBS: Username:		jma819
PBS: Group:		jma819
PBS: Executing queue:     normal
PBS: Job name:		CNMFE
PBS: Account:		p30771
----------------------------------------
   The following variables are not
   guaranteed to be the same in 
   prologue and the job run script  
----------------------------------------
PBS: Temporary Dir($TMPDIR):	/tmp/3401270.qsched03.quest.it.northwestern.edu
PBS: Master Node($PBS_MSHOST):		qnode5034
PBS: node file($PBS_NODEFILE):  /hpc/opt/torque6/nodes/qnode5034/aux//3401270.qsched03.quest.it.northwestern.edu
PBS: PATH (in prologue) : /bin:/usr/bin
PBS: WORKDIR ($PBS_O_WORKDIR) is:  /home/jma819/miniscope/analysis_code/miniscoPy/jjm_module
----------------------------------------
PBS: End PBS Prologue Thu Feb  7 15:10:43 CST 2019 1549573843
['/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam01.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam02.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam03.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam04.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam05.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam06.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam07.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam08.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam09.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam10.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam11.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam12.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam13.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam14.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam15.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam16.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam17.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam18.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam19.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam20.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam21.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam22.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam23.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam24.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam25.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam26.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam27.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam28.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam29.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam30.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam31.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam32.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam33.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam34.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam35.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam36.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam37.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam38.avi']
<generator object <genexpr> at 0x2b6152136410>
  0%|          | 0/37 [00:00<?, ?it/s]/home/jma819/miniscope/analysis_code/miniscoPy/jjm_module/motion_correction_jjm.py:314: MethodDeprecationWarning: Packet.decode_one is deprecated.
  frame           = packet.decode_one().to_ndarray(format = 'bgr24')[:,:,0].astype(np.float32)
  3%|▎         | 1/37 [00:04<02:29,  4.14s/it]  5%|▌         | 2/37 [00:08<02:22,  4.08s/it]  8%|▊         | 3/37 [00:12<02:23,  4.22s/it] 11%|█         | 4/37 [00:16<02:17,  4.17s/it] 14%|█▎        | 5/37 [00:20<02:12,  4.15s/it] 16%|█▌        | 6/37 [00:24<02:04,  4.00s/it] 19%|█▉        | 7/37 [00:28<02:00,  4.01s/it] 22%|██▏       | 8/37 [00:34<02:11,  4.54s/it] 24%|██▍       | 9/37 [00:38<02:06,  4.50s/it] 27%|██▋       | 10/37 [00:43<02:04,  4.60s/it] 30%|██▉       | 11/37 [00:49<02:10,  5.01s/it] 32%|███▏      | 12/37 [00:53<01:57,  4.71s/it] 35%|███▌      | 13/37 [00:57<01:48,  4.52s/it] 38%|███▊      | 14/37 [01:01<01:43,  4.49s/it] 41%|████      | 15/37 [01:05<01:35,  4.32s/it] 43%|████▎     | 16/37 [01:09<01:29,  4.24s/it] 46%|████▌     | 17/37 [01:13<01:22,  4.15s/it] 49%|████▊     | 18/37 [01:19<01:25,  4.52s/it] 51%|█████▏    | 19/37 [01:24<01:23,  4.63s/it] 54%|█████▍    | 20/37 [01:28<01:16,  4.51s/it] 57%|█████▋    | 21/37 [01:34<01:20,  5.03s/it] 59%|█████▉    | 22/37 [01:38<01:10,  4.72s/it] 62%|██████▏   | 23/37 [01:43<01:05,  4.68s/it] 65%|██████▍   | 24/37 [01:47<00:57,  4.44s/it] 68%|██████▊   | 25/37 [01:51<00:52,  4.37s/it] 70%|███████   | 26/37 [01:55<00:47,  4.29s/it] 73%|███████▎  | 27/37 [01:59<00:42,  4.30s/it] 76%|███████▌  | 28/37 [02:03<00:38,  4.28s/it] 78%|███████▊  | 29/37 [02:08<00:34,  4.27s/it] 81%|████████  | 30/37 [02:12<00:30,  4.34s/it] 84%|████████▍ | 31/37 [02:16<00:25,  4.24s/it] 86%|████████▋ | 32/37 [02:22<00:22,  4.58s/it] 89%|████████▉ | 33/37 [02:26<00:17,  4.43s/it] 92%|█████████▏| 34/37 [02:30<00:13,  4.53s/it] 95%|█████████▍| 35/37 [02:34<00:08,  4.38s/it] 97%|█████████▋| 36/37 [02:39<00:04,  4.44s/it]100%|██████████| 37/37 [02:43<00:00,  4.34s/it]
  0%|          | 0/507 [00:00<?, ?it/s]  0%|          | 1/507 [01:12<10:08:23, 72.14s/it]  0%|          | 2/507 [02:24<10:07:51, 72.22s/it]  1%|          | 3/507 [03:37<10:08:25, 72.43s/it]  1%|          | 4/507 [04:50<10:09:29, 72.70s/it]  1%|          | 5/507 [06:03<10:08:35, 72.74s/it]  1%|          | 6/507 [07:16<10:07:02, 72.70s/it]  1%|▏         | 7/507 [08:30<10:10:22, 73.24s/it]  2%|▏         | 8/507 [09:43<10:08:46, 73.20s/it]  2%|▏         | 9/507 [10:56<10:07:04, 73.14s/it]  2%|▏         | 10/507 [12:10<10:06:38, 73.24s/it]  2%|▏         | 11/507 [13:23<10:05:48, 73.28s/it]  2%|▏         | 12/507 [14:37<10:06:07, 73.47s/it]  3%|▎         | 13/507 [15:52<10:07:18, 73.76s/it]  3%|▎         | 14/507 [17:05<10:04:45, 73.60s/it]  3%|▎         | 15/507 [18:18<10:03:43, 73.63s/it]  3%|▎         | 16/507 [19:35<10:08:40, 74.38s/it]  3%|▎         | 17/507 [20:50<10:09:29, 74.63s/it]  4%|▎         | 18/507 [22:04<10:06:49, 74.46s/it]  4%|▎         | 19/507 [23:18<10:05:32, 74.45s/it]  4%|▍         | 20/507 [24:32<10:03:33, 74.36s/it]  4%|▍         | 21/507 [25:47<10:03:36, 74.52s/it]  4%|▍         | 22/507 [27:00<9:57:27, 73.91s/it]   5%|▍         | 23/507 [28:13<9:53:42, 73.60s/it]  5%|▍         | 24/507 [29:27<9:54:22, 73.83s/it]  5%|▍         | 25/507 [30:42<9:56:14, 74.22s/it]  5%|▌         | 26/507 [31:58<9:58:22, 74.64s/it]  5%|▌         | 27/507 [33:14<10:00:43, 75.09s/it]  6%|▌         | 28/507 [34:30<10:01:22, 75.33s/it]  6%|▌         | 29/507 [35:44<9:56:13, 74.84s/it]   6%|▌         | 30/507 [36:56<9:48:18, 74.00s/it]  6%|▌         | 31/507 [38:09<9:46:15, 73.90s/it]  6%|▋         | 32/507 [39:23<9:44:23, 73.82s/it]  7%|▋         | 33/507 [40:36<9:42:23, 73.72s/it]  7%|▋         | 34/507 [41:48<9:35:52, 73.05s/it]  7%|▋         | 35/507 [43:01<9:35:49, 73.20s/it]  7%|▋         | 36/507 [44:16<9:37:37, 73.58s/it]  7%|▋         | 37/507 [45:31<9:39:31, 73.98s/it]  7%|▋         | 38/507 [46:46<9:40:43, 74.29s/it]  8%|▊         | 39/507 [48:00<9:40:05, 74.37s/it]  8%|▊         | 40/507 [49:13<9:35:06, 73.89s/it]  8%|▊         | 41/507 [50:26<9:30:54, 73.51s/it]  8%|▊         | 42/507 [51:40<9:30:16, 73.58s/it]  8%|▊         | 43/507 [52:55<9:32:49, 74.07s/it]  9%|▊         | 44/507 [54:08<9:29:42, 73.83s/it]  9%|▉         | 45/507 [55:20<9:24:00, 73.25s/it]  9%|▉         | 46/507 [56:33<9:21:38, 73.10s/it]  9%|▉         | 47/507 [57:46<9:20:58, 73.17s/it]  9%|▉         | 48/507 [59:00<9:22:49, 73.57s/it] 10%|▉         | 49/507 [1:00:15<9:23:00, 73.76s/it] 10%|▉         | 50/507 [1:01:30<9:26:12, 74.34s/it] 10%|█         | 51/507 [1:02:45<9:25:01, 74.35s/it] 10%|█         | 52/507 [1:03:59<9:24:18, 74.41s/it] 10%|█         | 53/507 [1:05:14<9:22:44, 74.37s/it] 11%|█         | 54/507 [1:06:28<9:21:03, 74.31s/it] 11%|█         | 55/507 [1:07:41<9:18:13, 74.10s/it] 11%|█         | 56/507 [1:08:56<9:18:26, 74.29s/it] 11%|█         | 57/507 [1:10:12<9:19:58, 74.66s/it] 11%|█▏        | 58/507 [1:11:29<9:23:54, 75.36s/it]started cluster
processing files
['/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam01.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam02.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam03.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam04.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam05.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam06.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam07.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam08.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam09.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam10.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam11.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam12.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam13.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam14.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam15.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam16.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam17.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam18.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam19.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam20.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam21.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam22.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam23.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam24.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam25.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam26.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam27.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam28.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam29.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam30.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam31.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam32.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam33.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam34.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam35.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam36.avi', '/projects/p30771/miniscope/data/GRIN009/1_23_2019/msCam37.avi']
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/home/jma819/pythonenvs/miniscoPy/lib/python3.6/multiprocessing/pool.py", line 119, in worker
    result = (True, func(*args, **kwds))
  File "/home/jma819/pythonenvs/miniscoPy/lib/python3.6/multiprocessing/pool.py", line 47, in starmapstar
    return list(itertools.starmap(args[0], args[1]))
  File "/home/jma819/miniscope/analysis_code/miniscoPy/jjm_module/motion_correction_jjm.py", line 627, in make_corrections
    img_loc = tile_and_correct(img_glob, template, dims, parameters)
  File "/home/jma819/miniscope/analysis_code/miniscoPy/jjm_module/motion_correction_jjm.py", line 471, in tile_and_correct
    corner          = np.flip(tmp, 0) * np.rot90(tmp, -1)
ValueError: operands could not be broadcast together with shapes (102,100) (100,102) 
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "normcorr_jjm_script.py", line 108, in <module>
    run_normcorr(experiment_folder, files_to_run)
  File "normcorr_jjm_script.py", line 83, in run_normcorr
    data, video_info = normcorre(files_to_load, procs, parameters['motion_correction'])
  File "/home/jma819/miniscope/analysis_code/miniscoPy/jjm_module/motion_correction_jjm.py", line 720, in normcorre
    new_chunk = map_function(procs, nb_splits, list_chunk_movie, template, dims, parameters)
  File "/home/jma819/miniscope/analysis_code/miniscoPy/jjm_module/motion_correction_jjm.py", line 637, in map_function
    tmp = procs.starmap_async(make_corrections, pargs).get() 
  File "/home/jma819/pythonenvs/miniscoPy/lib/python3.6/multiprocessing/pool.py", line 644, in get
    raise self._value
ValueError: operands could not be broadcast together with shapes (102,100) (100,102) 

----------------------------------------
PBS job ended
Begin PBS Epilogue Thu Feb  7 16:27:11 CST 2019 1549578431
JobID: 3401270.qsched03.quest.it.northwestern.edu
Session ID:			2167
Resources Used:			cput=26:40:32,vmem=46722760kb,walltime=01:16:23,mem=3812572kb,energy_used=0
Job exit value:			1
----------------------------------------
